@{
    ViewData["Title"] = "Tickets";
    Layout = "_Layout";
}
@section styles {
    <link rel="stylesheet" href="~/css/functionalities.css" />
    <link rel="stylesheet" href="~/css/Admin.css" />
}

@Html.Partial("Admin_Header")
<div class="main">
    @Html.Partial("Admin_Sidebar")
    <div class="admin-body py-3 relative bg-grey flex flex-col gap-1">
        <div class="flex-Row justify-content-between">
            <div class="flex-Row justify-content-between align-items-center gap-1">
                <a asp-controller="Admin" asp-action="TicketsAll" asp-route-id=""><i class="fa-solid fa-arrow-left"></i></a>
                <h2>Ticket#123</h2>
            </div>
            <div class="flex-Row justify-content-between align-items-center gap-1">
                <a data-admin-btn class="registerBtn color-white" href="#">Update Priority</a>
                <a asp-controller="Admin" asp-action="TicketReassignment" data-admin-btn class="registerBtn color-white">Reassign Ticket</a>
            </div>
        </div>
        <div class="p-x-1 p-y-1 br-1 bg-white flex flex-col gap-1">
            <h2>Title</h2>
            <div class="flex-Row justify-content-between w-100">
                <div class="flex-Row gap-0-5">
                    <div class="ticket-tag | tag-border bg-btn-grey p-x-1 br-1 text-sm">flag</div>
                    <div class="ticket-tag | tag-border bg-btn-grey p-x-1 br-1 text-sm">flag</div>
                    <div class="ticket-tag | tag-border bg-btn-grey p-x-1 br-1 text-sm">flag</div>
                </div>
                <div class="ticket-tag | tag-border bg-btn-grey p-x-1 br-1 text-sm">flag</div>
            </div>
            <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur.</p>
            <button class="registerBtn mbtn-primary align-self-start">Resolved</button>
            <div class="agent-nav pt-4">
                <ul class="flex-Row gap-2">
                    <li class="nav-item active" data-ticketresolved-nav-item data-status="unresolved">Agents Interaction</li>
                    <li class="nav-item" data-ticketresolved-nav-item data-status="resolved">Customer Feedback</li>
                </ul>
            </div>
            <div class="flex flex-col gap-1">
                <div class="flex-Row gap-1">
                    <div class="p-y-2 p-x-2 br-50 bg-grey align-self-start"></div>
                    <div>
                        <p class="fw-semi">username</p>
                        <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur.</p>
                    </div>
                </div>
                <div class="flex-Row gap-1">
                    <div class="p-y-2 p-x-2 br-50 bg-grey align-self-start"></div>
                    <div>
                        <p class="fw-semi">username</p>
                        <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur.</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    const ticketAllNavItems = document.querySelectorAll("[data-ticketresolved-nav-item]");

    ticketAllNavItems.forEach(navItem => {
        navItem.addEventListener("click", () => {
            ticketAllNavItems.forEach(item => item.classList.remove("active"));
            navItem.classList.add("active");
            renderTickets(navItem.getAttribute('data-status'));
        });
    });
</script>
